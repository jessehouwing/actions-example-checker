# Example action.schema.yml file
# This file demonstrates the advanced validation features available
# Place this file alongside your action.yml with the name action.schema.yml

# Define reusable custom types
types:
  # URL type validates http/https URLs
  url:
    type: string
    match: '^https?://.*'

  # Semantic version format (e.g., 1.2.3)
  semver:
    type: string
    match: "^\\d+\\.\\d+\\.\\d+$"

  # Email address validation
  email:
    type: string
    match: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"

# Validate inputs with explicit types
inputs:
  # Choice type - restricts to specific values
  environment:
    type: choice
    options:
      - development
      - staging
      - production

  # Reference to custom type
  api-url:
    type: url

  # Another custom type reference
  version:
    type: semver

  # Boolean type - accepts truthy/falsy values
  # Truthy: true, yes, y, 1, on
  # Falsy: false, no, n, 0, off, (empty)
  dry-run:
    type: boolean

  # Number type
  timeout:
    type: number

  # String with inline pattern (not a custom type)
  log-level:
    type: string
    match: '^(debug|info|warn|error)$'

  # Email using custom type
  notification-email:
    type: email

  # Multi-value input with comma separator
  # Each tag must match the specified pattern
  tags:
    type: string
    separator: ','
    items:
      type: string
      match: '^[a-z0-9-]+$'

  # Multi-value input with newline separator (default when items is specified)
  # Each environment must be one of the specified options
  environments:
    type: string
    separator: newline
    items:
      type: choice
      options:
        - development
        - staging
        - production

  # Multi-value with numbers
  ports:
    type: string
    separator: ','
    items:
      type: number

# Validate outputs (optional but recommended)
outputs:
  deployment-id:
    type: string

  deployment-url:
    type: url

  exit-code:
    type: number
